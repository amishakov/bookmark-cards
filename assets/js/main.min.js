const isOpenClass="modal-is-open",openingClass="modal-is-opening",closingClass="modal-is-closing",animationDuration=400;let visibleModal=null;const toggleModal=e=>{e.preventDefault();const t=document.getElementById(e.currentTarget.getAttribute("data-target"));void 0!==t&&null!=t&&isModalOpen(t)?closeModal(t):openModal(t)},isModalOpen=e=>!(!e.hasAttribute("open")||"false"==e.getAttribute("open")),openModal=e=>{isScrollbarVisible()&&document.documentElement.style.setProperty("--scrollbar-width",`${getScrollbarWidth()}px`),document.documentElement.classList.add(isOpenClass,openingClass),setTimeout((()=>{visibleModal=e,document.documentElement.classList.remove(openingClass)}),400),e.setAttribute("open",!0)},closeModal=e=>{visibleModal=null,document.documentElement.classList.add(closingClass),setTimeout((()=>{document.documentElement.classList.remove(closingClass,isOpenClass),document.documentElement.style.removeProperty("--scrollbar-width"),e.removeAttribute("open")}),400)};document.addEventListener("click",(e=>{if(null!=visibleModal){!visibleModal.querySelector("article").contains(e.target)&&closeModal(visibleModal)}})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&null!=visibleModal&&closeModal(visibleModal)}));const getScrollbarWidth=()=>{const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n},isScrollbarVisible=()=>document.body.scrollHeight>screen.height;function checkURL(e){var t=e.value;return~t.indexOf("://")||(t="https://"+t),e.value=t,e}function changeData(e,t,n,o){document.getElementById("id").value=e,document.getElementById("title").value=t,document.getElementById("link").value=n,document.getElementById("tags").value=o}function randomBgColor(){var e=["#ADD8E6","#F08080","#E0FFFF","#FAFAD2","#D3D3D3","#90EE90","#FFB6C1","#FFA07A","#20B2AA","#87CEFA","#778899","#B0C4DE","#FFFFE0"];if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&"light"!=document.documentElement.getAttribute("data-theme"))e=["#235e71","#650c0c","#00e0e0","#b9b915","#545454","#116e11","#b6001b","#7a2300","#0d4643","#054f7d","#07090a","#2a4465","#e0e000"];return e[Math.floor(Math.random()*e.length)]}function toggleTag(e){var t=String(e);document.querySelectorAll("span.tag").forEach((e=>{e.style.opacity=.2,e.style.border="none",e.setAttribute("aria-selected",!1)})),localStorage.getItem("tag")==t?(Array.from(document.getElementById("bookmarks").children).map((function(e){e.style.display="block"})),localStorage.removeItem("tag")):(Array.from(document.getElementById("bookmarks").children).map((function(e){if(e.style.display="none",(n=String(e.getAttribute("data-tags"))).includes(t)){e.style.display="block";var n="span[data-tag*='"+t+"']";document.querySelectorAll(n).forEach((e=>{e.style.color="var(--h1-color)",e.style.opacity=1,e.setAttribute("aria-selected",!0)}))}})),localStorage.setItem("tag",t))}function topTags(){var e=Array.from(document.querySelectorAll("span.tag"),(e=>e.textContent)).map((function(e){return e})),t={};e.map((function(e){e in t?t[e]++:t[e]=1}));var n=Object.keys(t).sort((function(e,n){return t[e]-t[n]}));let o=5*Math.round(Math.sqrt(Object.keys(t).length)/5);o=o>10?10:o;var l=n.slice(Math.max(n.length-o,1));l=l.reverse();const a=document.getElementById("top-tags-placeholder");l.forEach((e=>{let t=document.createElement("li"),n=document.createElement("span");n.classList.add("tag"),t.classList.add("top-tag"),n.dataset.tag=e,n.setAttribute("role","tab"),n.setAttribute("aria-controls",e),n.setAttribute("aria-selected",!1),n.setAttribute("tabindex",0),n.addEventListener("click",(function(){toggleTag(e)})),n.innerText=e,t.appendChild(n),a.before(t)}))}document.addEventListener("DOMContentLoaded",(function(){window.history.replaceState&&window.history.replaceState(null,null,window.location.href),document.querySelectorAll("#s_title, #s_link, #s_tags").forEach((e=>{e.addEventListener("keyup",(function(){var t=e.value.toLowerCase();Array.from(document.getElementById("bookmarks").children).filter((function(e){var n=e.getAttribute("data-search").toLowerCase().indexOf(t);e.style.display=n>-1?"block":"none"}))}))})),Array.from(document.querySelectorAll("article.card-background")).map((function(e){var t=null;"none"===window.getComputedStyle(e).backgroundImage&&(t="linear-gradient(to bottom, white 0%,"+randomBgColor()+"  100%)",e.style.background=t)}))}),!1),document.addEventListener("DOMContentLoaded",(function(){var e;if("IntersectionObserver"in window){e=document.querySelectorAll(".lazy");var t=new IntersectionObserver((function(e,n){e.forEach((function(e){if(e.isIntersecting){var n=e.target;n.classList.remove("lazy"),t.unobserve(n)}}))}));e.forEach((function(e){t.observe(e)}))}else{var n;function o(){n&&clearTimeout(n),n=setTimeout((function(){var t=window.pageYOffset;e.forEach((function(e){e.offsetTop<window.innerHeight+t&&(e.src=e.dataset.src,e.classList.remove("lazy"))})),0==e.length&&(document.removeEventListener("scroll",o),window.removeEventListener("resize",o),window.removeEventListener("orientationChange",o))}),20)}e=document.querySelectorAll(".lazy"),document.addEventListener("scroll",o),window.addEventListener("resize",o),window.addEventListener("orientationChange",o)}}));