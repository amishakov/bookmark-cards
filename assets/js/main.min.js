function checkURL(e){var t=e.value;return~t.indexOf("://")||(t="https://"+t),e.value=t,e}function changeData(e,t,n,a){$("#id").attr("value",e),$("#title").attr("value",t),$("#link").attr("value",n),$("#tags").attr("value",a)}function toggleTag(e){var t=String(e);$("body").find("span.tag").css("border","none"),$("body").find("span.tag").css("opacity","0.2"),localStorage.getItem("tag")==t?($("#bookmarks").children().show(),localStorage.removeItem("tag")):($("#bookmarks").children().hide(),$("#bookmarks").children().each((function(){if((e=String($(this).attr("data-tags"))).includes(t)){$(this).show();var e="span:contains('"+t+"')";$(e).css("border","1px solid #26262688"),$(e).css("opacity","0.5")}})),localStorage.setItem("tag",t))}function randomLightColor(){var e=["#ADD8E6","#F08080","#E0FFFF","#FAFAD2","#D3D3D3","#D3D3D3","#90EE90","#FFB6C1","#FFA07A","#20B2AA","#87CEFA","#778899","#778899","#B0C4DE","#FFFFE0"];return e[Math.floor(Math.random()*e.length)]}function topTags(){var e=$("span.tag").map((function(){return $(this).text()})).get(),t={};e.map((function(e){e in t?t[e]++:t[e]=1}));var n=Object.keys(t).sort((function(e,n){return t[e]-t[n]}));let a=5*Math.round(Math.sqrt(Object.keys(t).length)/5);a=a>10?10:a;var o=n.slice(Math.max(n.length-a,1));o=o.reverse(),console.log(o),o.forEach((e=>{$("button#user-settings").before('<span class="tag" onclick="toggleTag(\''+e+"')\">"+e+"</span>")})),$("button#user-settings").before("&nbsp;")}$(document).ready((function(){$("#suchen").click((function(){Suchen($("#search").val())})),$(".navbar-burger").click((function(){$(".navbar-burger").toggleClass("is-active"),$(".navbar-menu").toggleClass("is-active")})),window.history.replaceState&&window.history.replaceState(null,null,window.location.href),$("#s_title, #s_link, #s_tags").on("keyup",(function(){var e=$(this).val().toLowerCase();$("#bookmarks > div").filter((function(){$(this).toggle($(this).attr("data-search").toLowerCase().indexOf(e)>-1)}))})),$("div.card").each((function(){var e=null;"none"===$(this).css("background-image")&&(e="linear-gradient(to bottom, white 0%,"+randomLightColor()+"  100%)",$(this).css("background",e))}))})),document.addEventListener("DOMContentLoaded",(function(){var e;if("IntersectionObserver"in window){e=document.querySelectorAll(".lazy");var t=new IntersectionObserver((function(e,n){e.forEach((function(e){if(e.isIntersecting){var n=e.target;n.classList.remove("lazy"),t.unobserve(n)}}))}));e.forEach((function(e){t.observe(e)}))}else{var n;function a(){n&&clearTimeout(n),n=setTimeout((function(){var t=window.pageYOffset;e.forEach((function(e){e.offsetTop<window.innerHeight+t&&(e.src=e.dataset.src,e.classList.remove("lazy"))})),0==e.length&&(document.removeEventListener("scroll",a),window.removeEventListener("resize",a),window.removeEventListener("orientationChange",a))}),20)}e=document.querySelectorAll(".lazy"),document.addEventListener("scroll",a),window.addEventListener("resize",a),window.addEventListener("orientationChange",a)}}));